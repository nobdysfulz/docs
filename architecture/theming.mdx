---
title: "Theming & Design System"
description: "Dynamic partner theming, color system, typography, and design tokens"
---

PWRU uses a dynamic theming system that adapts the application's visual identity based on the partner configuration. Colors are converted from hex to HSL and injected as CSS custom properties.

## Dynamic Partner Theming

### Color Injection

The root `Layout` component converts partner colors and injects them into `:root`:

```jsx
// Convert hex to HSL
const hexToHSL = (hex) => {
  // ... conversion logic
  return { h, s, l };
};

// Apply to CSS custom properties
const { h, s, l } = hexToHSL(partner.primaryColor);
document.documentElement.style.setProperty('--primary', `${h} ${s}% ${l}%`);
document.documentElement.style.setProperty('--primary-foreground', '0 0% 100%');
```

### CSS Custom Properties

The theming system sets these CSS variables:

| Variable | Default Value | Description |
|----------|--------------|-------------|
| `--primary` | `263 70% 58%` (purple) | Primary brand color in HSL |
| `--primary-foreground` | `0 0% 100%` | Text on primary backgrounds |
| `--secondary` | Partner secondary | Secondary brand color |
| `--background` | `0 0% 100%` | Page background |
| `--foreground` | `0 0% 3.9%` | Default text color |
| `--card` | `0 0% 100%` | Card background |
| `--muted` | `0 0% 96.1%` | Muted background |
| `--accent` | `0 0% 96.1%` | Accent background |
| `--destructive` | `0 84.2% 60.2%` | Error/destructive actions |
| `--border` | `0 0% 89.8%` | Border color |
| `--ring` | `263 70% 58%` | Focus ring color |

### Usage in Components

Components reference these variables via Tailwind:

```jsx
<Button className="bg-primary text-primary-foreground">
  Click me
</Button>

<Card className="bg-card border">
  Content here
</Card>
```

## Color Palette

### Partner-Configurable Colors

| Property | Default | Purpose |
|----------|---------|---------|
| `primaryColor` | `#7C3AED` (purple) | Main brand color, buttons, active states |
| `secondaryColor` | Varies | Secondary accents, highlights |

### Status Colors

| Color | Tailwind Class | Usage |
|-------|---------------|-------|
| Green | `text-green-600`, `bg-green-100` | Success, on-track, completed |
| Red | `text-red-600`, `bg-red-100` | Error, at-risk, destructive |
| Yellow | `text-yellow-600`, `bg-yellow-100` | Warning, slightly behind |
| Blue | `text-blue-600`, `bg-blue-100` | Info, system insights |

### Neutral Palette

The application uses Tailwind's neutral scale for UI chrome:
- `neutral-50` to `neutral-100` - Backgrounds, hover states
- `neutral-200` to `neutral-400` - Borders, dividers, muted text
- `neutral-500` to `neutral-700` - Secondary text, sidebar headers
- `neutral-800` to `neutral-950` - Primary text, dark surfaces

## Typography

### Font Stack

```css
font-family: 'Inter', ui-sans-serif, system-ui, -apple-system,
             'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
```

Headings use **SF Pro Display** where available.

### Type Scale

| Level | Size | Weight | Usage |
|-------|------|--------|-------|
| Hero | 2rem (32px) | Bold | Page titles, onboarding headers |
| XL | 1.25rem (20px) | Semibold | Section headers |
| LG | 1.125rem (18px) | Semibold | Card titles |
| Base | 1rem (16px) | Normal | Body text |
| SM | 0.875rem (14px) | Normal | Secondary text, table cells |
| XS | 0.75rem (12px) | Normal | Captions, badges, timestamps |

## Spacing System

Based on Tailwind's 4px unit system:

| Token | Value | Common Usage |
|-------|-------|-------------|
| `gap-1` / `p-1` | 4px | Tight spacing, inline elements |
| `gap-2` / `p-2` | 8px | Component internal spacing |
| `gap-3` / `p-3` | 12px | Between related elements |
| `gap-4` / `p-4` | 16px | Card padding, section gaps |
| `gap-6` / `p-6` | 24px | Large card padding, page margins |
| `gap-8` / `p-8` | 32px | Section separation |

## Elevation (Shadows)

| Level | Class | Usage |
|-------|-------|-------|
| Subtle | `shadow-sm` | Cards, list items |
| Medium | `shadow-md` | Dropdown menus, elevated cards |
| Large | `shadow-lg` | Modals, popovers |
| XL | `shadow-2xl` | Overlay panels |

## Border Radius

| Level | Class | Usage |
|-------|-------|-------|
| Small | `rounded-sm` | Badges, small elements |
| Default | `rounded-md` | Buttons, inputs |
| Large | `rounded-lg` | Cards, modals |
| XL | `rounded-xl` | Large containers |
| Full | `rounded-full` | Avatars, circular elements |

## Dark Mode

The application supports dark mode via system preference detection:

```css
@media (prefers-color-scheme: dark) {
  :root {
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    /* ... other dark values */
  }
}
```

Dark mode adjusts:
- Background and foreground colors
- Card and input backgrounds
- Border colors
- Text opacity levels
