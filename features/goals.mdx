---
title: "Goals"
description: "Production and activity goal tracking with KPIs, CRM sync, AI insights, and production planner"
---

The Goals page (`/Goals`) tracks production and activity goals with real-time KPIs, AI-powered insights, CRM synchronization, and a production planning tool.

## Page Layout

- **Contextual Top Nav** - Three tabs: Tracking, Insights, Planner
- **Main content area** - KPI cards, goal overview, priority goals, activity drivers, performance forecast chart
- **Right sidebar** - Tab-specific content (activity goals, AI insights, or planner tools)

On mobile, the `MobileGoalsPage` component renders with a simplified single-tab view.

## Tabs

### Tracking Tab

The default view displaying all goal-related data:

#### KPI Cards (Top Row)

Six KPI cards calculated from CRM data:

| KPI | Source |
|-----|--------|
| Total Pipeline Value | Sum of `transactionValue` for contacts with pipeline stages |
| Total GCI | Sum of `projectedCommission` across pipeline contacts |
| Total Contacts | Count of all CRM contacts |
| Year Closed Volume | Sum of `transactionValue` for contacts closed this year |
| Year Closed Units | Count of contacts with `leadStatus: 'closed'` this year |
| Year In Contract Volume | Sum of `transactionValue` for contacts in contract stages |

#### Goals Overview Cards

Four summary cards with progress bars:
- **Overall Progress** - Weighted average across all active goals
- **Year-to-Date GCI** - Current GCI vs annual target from business plan
- **Quarterly Progress** - Goals due this quarter
- **Year-End Pace** - Projected completion rate based on time elapsed vs progress

#### Priority Goals Section

Displays the four main production goals with status indicators:
- Total GCI
- Total Buyers Closed
- Total Listings Closed
- Total Sales Volume

Each goal shows:
- Progress bar with current/target values
- Status badge: **On Track** (green), **Slightly Behind** (yellow), or **At Risk** (red)
- AI-generated next step recommendation
- "Update Progress" button

Status is calculated by comparing actual progress against expected progress based on time elapsed in the year.

#### Activity Drivers

Shows the top two activity goals (e.g., calls made, appointments set) with progress bars.

#### Performance Forecast Chart

A line chart (Recharts `LineChart`) comparing:
- **Goal Pace** - Linear expected progress through the year
- **Actual Progress** - Real progress plotted month by month

### Insights Tab

The right sidebar displays AI-powered goal insights generated by the `generateGoalsInsights` backend function:
- **Performance Analysis** - AI summary of current goal trajectory
- **Recommended Actions** - Prioritized next steps
- **Weekly Focus** - Suggested focus area for the week
- **Cache indicator** - Shows if insights are cached or freshly generated

Insights can be manually refreshed with the refresh button.

### Planner Tab

Opens the **Production Planner Modal** (`ProductionPlannerModal`) for configuring annual production goals. The planner reverse-engineers income targets into activity metrics.

## Goal Management

### Adding Goals
The **Add Goal** modal (`AddGoalModal`) allows creating custom goals with:
- Title, category (production or activity), target value
- Target unit (USD, count, etc.)
- Deadline

### Updating Progress
The **Update Progress** modal (`UpdateProgressModal`) captures new progress values. After submission, the **CRM Verification** modal (`CrmVerificationModal`) optionally links the update to a CRM contact or transaction.

### CRM Sync
If a CRM connection (Lofty or Follow Up Boss) is configured with `syncGoals` enabled, the "Sync from CRM" button:
1. Calls `syncCrmToGoals` to sync from the built-in CRM
2. Calls the appropriate external CRM sync function (`loftySync` or `followUpBossSync`)
3. Maps CRM metrics to goal fields (Total GCI, Total Volume, Buyer Deals, Listing Deals)
4. Updates matching goals with new values

## Goal Data Model

Goals are stored in the `Goal` entity with:

| Field | Description |
|-------|-------------|
| `title` | Goal name |
| `category` | `production` or `activity` |
| `targetValue` | Target number |
| `currentValue` | Current progress |
| `targetUnit` | `USD` or count |
| `status` | `active`, `completed`, `at-risk` |
| `deadline` | Target completion date |
| `confidenceLevel` | Calculated probability of completion |

### Confidence Calculation

The `calculateConfidencePercentage` function computes goal confidence based on:
- Time remaining vs total time allocated
- Current progress vs expected progress
- Historical completion rate

### Deduplication

The `deduplicateGoals` utility ensures no duplicate goals appear when goals come from multiple sources (manual entry + CRM sync + production planner).

## Export Options

- **Print** - Opens a print-friendly view in a new window with PWRU branding
- **Download PDF** - Generates a formatted PDF using jsPDF with logo, production goals, and activity goals
